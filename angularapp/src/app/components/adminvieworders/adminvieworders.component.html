<div class="admin-view-orders">
  <h1>Admin View Orders</h1>

  <!-- Display all orders -->
  <div class="orders-list">
    <h2>All Orders</h2>
    <table>
      <thead>
        <tr>
          <th>Order ID</th>
          <th>User</th>
          <th>Product Name</th>
          <th>Price</th>
          <th>Shipping Address</th>
          <th>Total Amount</th>
          <th>Quantity</th>
          <th>Status</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let ord of orders">
          <td>{{ ord.orderId }}</td>
          <!-- <td>{{ ord.user.username }}</td> -->
          <td>
            <ul>
              <li *ngFor="let product of order.product">
                {{ product.name }}
              </li>
            </ul>
          </td>
          <td>
            <ul>
              <li *ngFor="let product of order.product">
                {{ product.price }}
              </li>
            </ul>
          </td>
          <td>{{ ord.shippingAddress }}</td>
          <td>{{ ord.totalAmount }}</td>
          <td>{{ ord.quantity }}</td>
          <td>{{ ord.status }}</td>
          <td>
            <button (click)="getOrderDetails(ord.orderId)">View Details</button>
            <button (click)="deleteOrder(ord.orderId)">Delete Order</button>

            <select [(ngModel)]="ord.status">
              <option value="PENDING">Pending</option>
              <option value="ACCEPTED">Accepted</option>
              <option value="DISPATCHED">Dispatched</option>
              <option value="OUT_FOR_DELIVERY">Out for Delivery</option>
              <option value="DELIVERED">Delivered</option>
          </select>
          
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <br>
  <br>
  Display order details
  <div class="order-details" *ngIf="order.orderId">
    <h2>Order Details</h2>
    <p>Order ID: {{ order.orderId }}</p>
    <p>Username: {{ order.user.name }}</p>

      Products: 
      <ul>
        <li *ngFor="let product of order.product">
          {{ product.name }} - {{ product.quantity }} - {{ product.price }}
        </li>
      </ul>
  

    <p>Shipping Address: {{ order.shippingAddress }}</p>
    <p>Total Amount: {{ order.totalAmount }}</p>
    <p>Quantity: {{ order.quantity }}</p>
    <p>Status: {{ order.status }}</p>
    <p>Created At: {{ order.createdAt | date }}</p>
    <p>Updated At: {{ order.updatedAt | date }}</p>
  </div>
</div>
